<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Intersection of Two Linked Lists | Xinli's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Intersection of Two Linked Lists</h1><a id="logo" href="/.">Xinli's Blog</a><p class="description">Coding World</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Intersection of Two Linked Lists</h1><div class="post-meta">Aug 3, 2016<span> | </span><span class="category"><a href="/categories/Leetcode/">Leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>This is the solution about <a href="https://leetcode.com/problems/intersection-of-two-linked-lists/" target="_blank" rel="external">Leetcode-Intersection of Two Linked Lists</a>.</p>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description:"></a>Description:</h2><p>Write a program to find the node at which the intersection of two singly linked lists begins.</p>
<p>For example, the following two linked lists:</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">A:          <span class="built_in">a1</span> → <span class="built_in">a2</span></div><div class="line">                   ↘</div><div class="line">                     <span class="built_in">c1</span> → <span class="built_in">c2</span> → <span class="built_in">c3</span></div><div class="line">                   ↗            </div><div class="line"><span class="keyword">B: </span>    <span class="keyword">b1 </span>→ <span class="keyword">b2 </span>→ <span class="keyword">b3</span></div></pre></td></tr></table></figure>
<p>begin to intersect at node c1.</p>
<p>####Notes:</p>
<ul>
<li>If the two linked lists have no intersection at all, return null.</li>
<li>The linked lists must retain their original structure after the function returns.</li>
<li>You may assume there are no cycles anywhere in the entire linked structure.</li>
<li>Your code should preferably run in O(n) time and use only O(1) memory.</li>
</ul>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution:"></a>Solution:</h2><h4 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis:"></a>Analysis:</h4><p>First Solution: Utilizing HashSet to save each node from headA and compare each node from headB to find out the first intersected node.<br>Time complexity is O(n) and space complexity is O(n).<br>Second Solution: If we want to run in O(n) time and use only O(1) memory, we should compare headA with headB and traverse each node once. But the point is the length of headA and headB is different. So in order to counteract the difference, we can splice two lists and find out the intersected node. We suppose that there are A different nodes in the first list, B different nodes in the second list and C common nodes. Therefore, A + C + B = B + C + A. </p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Definition for singly-linked list.</div><div class="line"> * public class ListNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     ListNode next;</div><div class="line"> *     ListNode(int x) &#123; val = x; &#125;</div><div class="line"> * &#125;</div><div class="line"> */</div><div class="line"> </div><div class="line"> <span class="comment">//Solution1</span></div><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution1</span> </span>&#123;</div><div class="line"> 	<span class="keyword">public</span> ListNode getIntersectionNode(ListNode headA, ListNode headB) &#123;</div><div class="line"> 		HashSet&lt;ListNode&gt; <span class="keyword">list</span> = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line"> 		<span class="keyword">while</span>(headA != <span class="keyword">null</span>) &#123;</div><div class="line"> 			<span class="keyword">list</span>.add(headA);</div><div class="line"> 			headA = headA.next;</div><div class="line"> 		&#125;</div><div class="line"> 		<span class="keyword">while</span>(headB !=<span class="keyword">null</span>) &#123;</div><div class="line"> 			<span class="keyword">if</span>(<span class="keyword">list</span>.contains(headB)) &#123;</div><div class="line"> 				<span class="keyword">return</span> headB;</div><div class="line"> 			&#125;</div><div class="line"> 			headB = headB.next;</div><div class="line"> 		&#125;</div><div class="line"> 		<span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line"> 	&#125;</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> <span class="comment">//Solution2</span></div><div class="line"> <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution2</span> </span>&#123;</div><div class="line"> 	<span class="keyword">public</span> ListNode getIntersectionNode(ListNode headA, ListNode headB) &#123;</div><div class="line"> 	<span class="keyword">if</span>(headA == <span class="keyword">null</span> || headB == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line"> 	ListNode pointerA = headA;</div><div class="line"> 	ListNode pointerB = headB;</div><div class="line"> 	<span class="comment">//if pointerA == pointerB == null, it means we have already traverse headA and headB and cannot find the common node. </span></div><div class="line"> 	<span class="keyword">while</span>(pointerA != pointerB) &#123;</div><div class="line"> 		pointerA = pointerA == <span class="keyword">null</span>? headB : pointerA.next;</div><div class="line"> 		pointerB = pointerB == <span class="keyword">null</span>? headA : pointerB.next;</div><div class="line"> 	&#125;</div><div class="line"> 	<span class="keyword">return</span> pointerA;</div><div class="line"> &#125;</div></pre></td></tr></table></figure></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://xinli90.com/2016/08/03/Intersection-of-Two-Linked-Lists/" data-id="cise13k6y002fbhu0pe100h8l" class="article-share-link">Share</a><div class="tags"><a href="/tags/Leetcode/">Leetcode</a></div><div class="post-nav"><a href="/2016/08/03/Copy-List-with-Random-Pointer/" class="pre">Copy List with Random Pointer</a><a href="/2016/07/28/iOS学习笔记-chapter1-3/" class="next">iOS学习笔记-chapter1~3</a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://xinli90.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/tags/Seeking-Job/" style="font-size: 15px;">Seeking Job</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm-Binary-Tree/">Algorithm, Binary Tree</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm-Sorting/">Algorithm, Sorting</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-Collection/">Data Structure, Collection</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-HashMap-TreeMap-Hashtable-ConcuttentHashMap/">Data Structure, HashMap, TreeMap, Hashtable, ConcuttentHashMap</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-HashSet-TreeSet/">Data Structure, HashSet, TreeSet</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-List/">Data Structure, List</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Geek/">Geek</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a><span class="category-list-count">34</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Stack-Heap/">Stack, Heap</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/class-design-interface/">class design, interface</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/comparator-comparable/">comparator, comparable</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/25/Lowest-Common-Ancestor-of-a-Binary-Tree/">Lowest Common Ancestor of a Binary Tree</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/25/Construct-Binary-Tree-from-Preorder-and-Inorder-Traversal/">Construct Binary Tree from Preorder and Inorder Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/24/Balanced-Binary-Tree/">Balanced Binary Tree</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/24/Same-Tree/">Same Tree</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/Flatten-Binary-Tree-to-Linked-List/">Flatten Binary Tree to Linked List</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/Binary-Tree-Level-Order-Traversal/">Binary Tree Level Order Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/Binary-Tree-Postorder-Traversal/">Binary Tree Postorder Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/Binary-Tree-Inorder-Traversal/">Binary Tree Inorder Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/Binary-Tree-Preorder-Traversal/">Binary Tree Preorder Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/23/Maximum-Depth-of-Binary-Tree/">Maximum Depth of Binary Tree</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Xinli's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>