<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Day5 Class Design | Hexo</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Day5 Class Design</h1><a id="logo" href="/.">Hexo</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Day5 Class Design</h1><div class="post-meta">Aug 10, 2016<span> | </span><span class="category"><a href="/categories/class-design-interface/">class design, interface</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>本篇是关于Class Design方面的一些注意事项和总结。</p>
<h2 id="攻略模板："><a href="#攻略模板：" class="headerlink" title="攻略模板："></a>攻略模板：</h2><ul>
<li>回忆内部结构：分析设计类的特性和步骤</li>
<li>学习、探究和提出细节问题</li>
<li>解惑、总结及训练</li>
</ul>
<h4 id="自己回忆："><a href="#自己回忆：" class="headerlink" title="自己回忆："></a>自己回忆：</h4><p>在定义一个custom类时，需要根据已有的数据结构，来获得自己想要的方法，并构建外部可以调用的方法，而封装内部的具体实现和结构。<br>比如：实现一个双端链表，并且该链表可以把链表尾部指定个数的元素累加一定的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">class CustomStack&#123;</div><div class="line">	Deque&lt;Integer&gt; stack;</div><div class="line">	public CustomStack() &#123;</div><div class="line">		stack = new LinkedList&lt;&gt;();</div><div class="line">	&#125;</div><div class="line">	public void pop()&#123;</div><div class="line">		stack.poll();</div><div class="line">	&#125;</div><div class="line">	public void push(int num)&#123;</div><div class="line">		stack.push(num);</div><div class="line">	&#125;</div><div class="line">	public int peek()&#123;</div><div class="line">		return stack.peek();</div><div class="line">	&#125;</div><div class="line">	public boolean isEmpty()&#123;</div><div class="line">		return stack.isEmpty();</div><div class="line">	&#125;</div><div class="line">	public void inc(int x, int d)&#123;</div><div class="line">		int[] arr = new int[x];</div><div class="line">		for(int i=0;i&lt;x;i++)&#123;</div><div class="line">			arr[i] = stack.pollLast()+d;</div><div class="line">		&#125;</div><div class="line">		for(int i=x-1;i&gt;=0;i--)&#123;</div><div class="line">			stack.offer(arr[i]);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="学习过程和疑问："><a href="#学习过程和疑问：" class="headerlink" title="学习过程和疑问："></a>学习过程和疑问：</h4><p>在上述的程序里，我们有以下几个疑问：     </p>
<ol>
<li>如何构建一个类，如何在一个类中定义自己的constructor， Override 和 Overload应用。        </li>
<li>如何构建自己的外部方法，封装内部结构。           </li>
<li>Deque<integer> stack = new LinkedList&lt;&gt;(); 定义的意义，为什么声明和具体实现对象的不同的做法.          </integer></li>
<li>如何设计一个扩展性强的通用class，还是把业务逻辑写在custom class中更好。       </li>
</ol>
<h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><h5 id="When-do-we-use-‘this’-keyword-in-the-class"><a href="#When-do-we-use-‘this’-keyword-in-the-class" class="headerlink" title="When do we use ‘this’ keyword in the class?"></a>When do we use ‘this’ keyword in the class?</h5><ul>
<li>We commonly pass an argument with the same name as the private member variable we are attempting to set, we need use <code>this</code> to disambiguate variable references.      </li>
<li>When accessing an outer instance from a nested non-static class:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">public class Outer &#123;</div><div class="line">  protected int a;</div><div class="line"></div><div class="line">  public class Inner &#123;</div><div class="line">    protected int a;</div><div class="line"></div><div class="line">    public int foo()&#123;</div><div class="line">      return Outer.this.a;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public Outer getOuter()&#123;</div><div class="line">      return Outer.this;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="Why-do-we-use-private-for-member-variable"><a href="#Why-do-we-use-private-for-member-variable" class="headerlink" title="Why do we use private for member variable?"></a>Why do we use <code>private</code> for member variable?</h5><ul>
<li>防止外界对象对内部成员变量的影响， a public member can be accessed from outside the class.  If something goes wrong, the culprit can be anywhere, and so in order to track down the bug, you may have to look at quite a lot of code. </li>
<li>解耦Encapsulation and Decoupling. If you change the member variable in A class, we need to check usages of this variable in B class which we use it in B.</li>
</ul>
<h5 id="Why-do-we-use-private-Get-and-Set-Method-instead-of-direct-access-to-the-information"><a href="#Why-do-we-use-private-Get-and-Set-Method-instead-of-direct-access-to-the-information" class="headerlink" title="Why do we use private, Get and Set Method instead of direct access to the information?"></a>Why do we use <code>private</code>, Get and Set Method instead of direct access to the information?</h5><p>It is bad to let external objects direct access to the informaiton.  If you don’t want other objects to access the internal data, but wish to controll it. You woould make it either private or protected, but provide get and set functions which can manipulate the data in a controlled way.</p>
<p>Because in the get and set functions, we can filter the invalid data and modification.       </p>
<p>For example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">public class bank_balance</div><div class="line">&#123;</div><div class="line">	public String owner;</div><div class="line">	public int balance; </div><div class="line"></div><div class="line">	public bank_balance( String name, int dollars )</div><div class="line">	&#123;</div><div class="line">		owner = name;</div><div class="line"></div><div class="line">		if (dollars &gt;= 0)</div><div class="line">			balance = dollars;</div><div class="line">		else</div><div class="line">			dollars =0;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>We have declared our string and integer to be public. This means that any object in the system can change the balance (setting it to zero, or even giving us a negative balance). This could cause the program to fall over, even though we wrote code in our constructor to prevent negative balances.</p>
<p>Instead, we should have provided a getBalance/setBalance method, and made our balance private or proteced. Other objects can still access the data, but they can’t put invalid data in.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">public class bank_balance</div><div class="line">&#123;</div><div class="line">	public String owner;</div><div class="line">	private int balance; </div><div class="line"></div><div class="line">	public bank_balance( String name, int dollars )</div><div class="line">	&#123;</div><div class="line">		owner = name;</div><div class="line"></div><div class="line">		if (dollars &gt;= 0)</div><div class="line">			balance = dollars;</div><div class="line">		else</div><div class="line">			dollars =0;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public int getBalance()</div><div class="line">	&#123;</div><div class="line">		return balance;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	public void setBalance(int dollars)</div><div class="line">	&#123;</div><div class="line">		if (dollars &gt;= 0)</div><div class="line">			balance = dollars;</div><div class="line">		else</div><div class="line">			dollars = 0;		</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="如何构建自己的外部方法，封装内部结构"><a href="#如何构建自己的外部方法，封装内部结构" class="headerlink" title="如何构建自己的外部方法，封装内部结构"></a>如何构建自己的外部方法，封装内部结构</h5><ol>
<li>可以借用其他已有的数据结构，去实现一个custom data structure.</li>
<li>其他人不用去知道你到底使用了什么数据结构，你只需要定义自己的private member variable, 去开放想让别人知道的方法和接口 public function.</li>
<li>This can make a good encapsulation and coupling.</li>
</ol>
<h5 id="如何构建一个类，如何在一个类中定义自己的constructor-Overload-vs-Override"><a href="#如何构建一个类，如何在一个类中定义自己的constructor-Overload-vs-Override" class="headerlink" title="如何构建一个类，如何在一个类中定义自己的constructor, Overload vs. Override"></a>如何构建一个类，如何在一个类中定义自己的constructor, Overload vs. Override</h5><ol>
<li>Declare the private member variables in the class and then concrete them in the constructor if necessary.</li>
<li>So you can have various kinds of constructor with initialization. This is the Overload. The same method name but different type and number of parameters. 如果只是改变了return type 或者 the name of parameters, this is not Overload.</li>
<li>Overriding requires the exactly same signature(method name, the type and number of parameters) and return type and thrown exceptions.</li>
<li>Use Get and Set function to let external objects to access the internal data and controll it.</li>
</ol>
<h5 id="Why-to-use-Polymorphism"><a href="#Why-to-use-Polymorphism" class="headerlink" title="Why to use Polymorphism"></a>Why to use Polymorphism</h5><p><code>Deque&lt;Integer&gt; stack = new LinkedList&lt;&gt;();</code>       </p>
<p>The main reason you’d do this is to decouple your code from a specfic implementation of the interface. This is called programming to the interface.          </p>
<p>比如: List list = new LinkedList(), 你想改变具体的数据结构，use ArrayList instead of LinkedList, 你仅仅只需要改为List list = new ArrayList()而不需要考虑别的，如果一开始你就使用LinkedList list = new LinkedList(),那么there is no guarantee that the rest of your code doesn’t make use of methods to the LinkedList class.</p>
<h5 id="关于Switch"><a href="#关于Switch" class="headerlink" title="关于Switch"></a>关于Switch</h5><p>Switch 不支持 long, float, double 及其包装类， 支持int, char, byte以及包装类和String.</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2016/08/10/Day5-Class-Design/" data-id="cis4xlktv000u39z652mtx98e" class="article-share-link">Share</a><div class="tags"><a href="/tags/Seeking-Job/">Seeking Job</a></div><div class="post-nav"><a href="/2016/08/11/Implement-Trie-Prefix-Tree/" class="pre">Implement Trie (Prefix Tree)</a><a href="/2016/08/08/Kth-Largest-Element-in-an-Array/" class="next">Kth Largest Element in an Array</a></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm-Sorting/">Algorithm, Sorting</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-Collection/">Data Structure, Collection</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-HashMap-TreeMap-Hashtable-ConcuttentHashMap/">Data Structure, HashMap, TreeMap, Hashtable, ConcuttentHashMap</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-HashSet-TreeSet/">Data Structure, HashSet, TreeSet</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure-List/">Data Structure, List</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Geek/">Geek</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Stack-Heap/">Stack, Heap</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/class-design-interface/">class design, interface</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/comparator-comparable/">comparator, comparable</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/tags/Seeking-Job/" style="font-size: 15px;">Seeking Job</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/08/19/Two-Sum-III-Data-structure-design/">Two Sum III - Data structure design</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/18/Two-Sum-II-Input-array-is-sorted/">Two Sum II - Input array is sorted</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/Two-Sum/">Two Sum</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/Count-Primes/">Count Primes</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/Group-Anagrams/">Group Anagrams</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/17/Happy-Number/">Happy Number</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/16/Contains-Duplicate/">Contains Duplicate</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/16/Longest-Substring-Without-Repeating-Characters/">Longest Substring Without Repeating Characters</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/16/Day8-DataStructure-about-Set/">Day8 DataStructure about Set</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/15/Day7-DataStructure-about-Map/">Day7 DataStructure about Map</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Hexo.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>