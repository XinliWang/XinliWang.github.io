<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><meta name="google-site-verification" content="GY3xi-El9ePp4mSskpCuCNS4x4elE7wbFPe2eKCtS8Y"><title>Binary Tree Postorder Traversal | Xinli's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Binary Tree Postorder Traversal</h1><a id="logo" href="/.">Xinli's Blog</a><p class="description">Coding World</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Binary Tree Postorder Traversal</h1><div class="post-meta">Aug 23, 2016<span> | </span><span class="category"><a href="/categories/Leetcode/">Leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/08/23/Binary-Tree-Postorder-Traversal/" href="/2016/08/23/Binary-Tree-Postorder-Traversal/#disqus_thread" class="disqus-comment-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Description"><span class="toc-number">1.</span> <span class="toc-text">Description</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution"><span class="toc-number">2.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Analysis"><span class="toc-number">2.1.</span> <span class="toc-text">Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Solution1-Recursive-solution"><span class="toc-number">2.1.1.</span> <span class="toc-text">Solution1: Recursive solution.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Solution2-Iterative-solution"><span class="toc-number">2.1.2.</span> <span class="toc-text">Solution2: Iterative solution.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Solution3-Iterative-solution"><span class="toc-number">2.1.3.</span> <span class="toc-text">Solution3: Iterative solution.</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><p>This is the solution about <a href="https://leetcode.com/problems/binary-tree-postorder-traversal/" target="_blank" rel="external">Leetcode-Binary Tree Postorder Traversal</a>.</p>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>Given a binary tree, return the inorder traversal of its nodes’ values.</p>
<p>For example:<br>Given binary tree <code>{1,#,2,3}</code>,</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span></div><div class="line"> \</div><div class="line">  <span class="number">2</span></div><div class="line"> /</div><div class="line"><span class="number">3</span></div></pre></td></tr></table></figure>
<p>return <code>[3,2,1]</code>.</p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><h4 id="Solution1-Recursive-solution"><a href="#Solution1-Recursive-solution" class="headerlink" title="Solution1: Recursive solution."></a>Solution1: Recursive solution.</h4><ol>
<li>if the tree is null, return.      </li>
<li>if the tree is not null, traverse left subtree, traverse right subtree, visit root and add the value of root into list.</li>
</ol>
<h4 id="Solution2-Iterative-solution"><a href="#Solution2-Iterative-solution" class="headerlink" title="Solution2: Iterative solution."></a>Solution2: Iterative solution.</h4><ol>
<li>Keep two stacks</li>
<li>Use the way similar to Preorder traversal, preorder is：<code>self, left, right</code>, change its order to <code>self, right, left</code>, then converse to <code>left, right, self</code>    </li>
</ol>
<h4 id="Solution3-Iterative-solution"><a href="#Solution3-Iterative-solution" class="headerlink" title="Solution3: Iterative solution."></a>Solution3: Iterative solution.</h4><ol>
<li>Only one stack. similar to preorder traversal(iterative solution), push root into stack first, then push right subnode and then left subnode.</li>
<li>There are two situations we need pop node from stack to the list. One is the left subnode and right subnode of the current node is null.  Another is the left subtree and right subtree have been visited.</li>
</ol>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * Definition for a binary tree <span class="keyword">node</span>.</div><div class="line"> <span class="title">* public</span> class TreeNode &#123;</div><div class="line"> *     int val;</div><div class="line"> *     TreeNode left;</div><div class="line"> *     TreeNode right;</div><div class="line"> *     TreeNode(int x) &#123; val = x; &#125;</div><div class="line"> * &#125;</div><div class="line"> */</div><div class="line"> </div><div class="line"> </div><div class="line">public class Solution1 &#123;</div><div class="line">	public List<span class="tag">&lt;Integer&gt;</span> postorderTraversal(TreeNode root) &#123;</div><div class="line">		List<span class="tag">&lt;Integer&gt;</span> list = new ArrayList<span class="tag">&lt;&gt;</span>();</div><div class="line">		helper(list, root);</div><div class="line">		return list;</div><div class="line">	&#125;</div><div class="line">	void helper(List<span class="tag">&lt;Integer&gt;</span> list, TreeNode <span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		if(<span class="keyword">node</span> <span class="title">== null</span>) return;</div><div class="line">		helper(list, <span class="keyword">node</span>.<span class="title">left</span>);</div><div class="line">		helper(list, <span class="keyword">node</span>.<span class="title">right</span>);</div><div class="line">		list.add(<span class="keyword">node</span>.<span class="title">val</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">public class Solution2 &#123;</div><div class="line">	//Two stack</div><div class="line">	public List<span class="tag">&lt;Integer&gt;</span> postorderTraversal(TreeNode root) &#123;</div><div class="line">		List<span class="tag">&lt;Integer&gt;</span> list = new ArrayList<span class="tag">&lt;&gt;</span>();</div><div class="line">		if(root == null) return list;</div><div class="line">		Stack<span class="tag">&lt;TreeNode&gt;</span> stack = new Stack<span class="tag">&lt;&gt;</span>();</div><div class="line">		Stack<span class="tag">&lt;TreeNode&gt;</span> reverseStack = new Stack<span class="tag">&lt;&gt;</span>();</div><div class="line">		stack.push(root);</div><div class="line">		while(!stack.isEmpty()) &#123;</div><div class="line">			TreeNode <span class="keyword">node</span> <span class="title">= stack</span>.pop();</div><div class="line">			reverseStack.push(<span class="keyword">node</span><span class="title">);</span></div><div class="line">			if(<span class="keyword">node</span>.<span class="title">left</span>!=null) stack.push(<span class="keyword">node</span>.<span class="title">left</span>);</div><div class="line">			if(<span class="keyword">node</span>.<span class="title">right</span>!=null) stack.push(<span class="keyword">node</span>.<span class="title">right</span>);</div><div class="line">		&#125;</div><div class="line">		while(!reverseStack.isEmpty()) &#123;</div><div class="line">			list.add(reverseStack.pop());</div><div class="line">		&#125;</div><div class="line">		return list;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">public class Solution3 &#123;</div><div class="line">	public List<span class="tag">&lt;Integer&gt;</span> postorderTraversal(TreeNode root) &#123;</div><div class="line">		List<span class="tag">&lt;Integer&gt;</span> list = new ArrayList<span class="tag">&lt;&gt;</span>();</div><div class="line">		if(root == null) return list;</div><div class="line">		Stack<span class="tag">&lt;TreeNode&gt;</span> stack = new Stack<span class="tag">&lt;&gt;</span>();</div><div class="line">		stack.push(root);</div><div class="line">		TreeNode prev = null;</div><div class="line">		while(!stack.isEmpty()) &#123;</div><div class="line">			TreeNode <span class="keyword">node</span> <span class="title">= stack</span>.peek();</div><div class="line">			</div><div class="line">			//<span class="keyword">node</span>.<span class="title">left</span>==null &amp;&amp; <span class="keyword">node</span>.<span class="title">right</span>==null means <span class="keyword">node</span> <span class="title">is</span> leave</div><div class="line">			//prev!=null &amp;&amp; <span class="attr">prev=</span>=<span class="keyword">node</span>.<span class="title">left</span> means have already traversed left subtree, the right subtree is null			//prev!=null &amp;&amp; <span class="attr">prev=</span>=<span class="keyword">node</span>.<span class="title">right</span> means have already traversed right subtree</div><div class="line">			//prev!=<span class="keyword">node</span>.<span class="title">left</span>&amp;&amp;prev!=<span class="keyword">node</span>.<span class="title">right</span> means have poped from stack several times <span class="keyword">and</span> get to the another side of tree.</div><div class="line">			</div><div class="line">			if((<span class="keyword">node</span>.<span class="title">left</span>==null &amp;&amp; <span class="keyword">node</span>.<span class="title">right</span>==null)||(prev!=null &amp;&amp; (prev == <span class="keyword">node</span>.<span class="title">left</span> || <span class="attr">prev=</span>=<span class="keyword">node</span>.<span class="title">right</span>))) &#123;</div><div class="line">				<span class="keyword">node</span> <span class="title">= stack</span>.pop();</div><div class="line">				list.add(<span class="keyword">node</span>.<span class="title">val</span>);</div><div class="line">				prev = <span class="keyword">node</span><span class="title">;</span></div><div class="line">			&#125;else &#123;</div><div class="line">				if(<span class="keyword">node</span>.<span class="title">right</span>!=null) stack.push(<span class="keyword">node</span>.<span class="title">right</span>);</div><div class="line">				if(<span class="keyword">node</span>.<span class="title">left</span>!=null) stack.push(<span class="keyword">node</span>.<span class="title">left</span>);</div><div class="line">			&#125;		</div><div class="line">		&#125;</div><div class="line">		return list;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://xinli90.com/2016/08/23/Binary-Tree-Postorder-Traversal/" data-id="citc3fmpo000f3zj5y03krbu2" class="article-share-link">Share</a><div class="tags"><a href="/tags/Leetcode/">Leetcode</a></div><div class="post-nav"><a href="/2016/08/23/Binary-Tree-Level-Order-Traversal/" class="pre">Binary Tree Level Order Traversal</a><a href="/2016/08/23/Binary-Tree-Inorder-Traversal/" class="next">Binary Tree Inorder Traversal</a></div><div id="disqus_thread"><script>var disqus_shortname = 'xinli';
var disqus_identifier = '2016/08/23/Binary-Tree-Postorder-Traversal/';
var disqus_title = 'Binary Tree Postorder Traversal';
var disqus_url = 'http://xinli90.com/2016/08/23/Binary-Tree-Postorder-Traversal/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//xinli.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/tags/Seeking-Job/" style="font-size: 15px;">Seeking Job</a> <a href="/tags/J2EE/" style="font-size: 15px;">J2EE</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Geek/">Geek</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/J2EE/">J2EE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a><span class="category-list-count">60</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Multithreading/">Multithreading</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/class-design/">class design</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/09/20/Strobogrammatic-Number/">Strobogrammatic Number</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/20/Longest-Increasing-Subsequence/">Longest Increasing Subsequence</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/20/Valid-Palindrome/">Valid Palindrome</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/19/Palindrome-Partitioning-II/">Palindrome Partitioning II</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/19/Palindrome-Partitioning/">Palindrome Partitioning</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/18/Jump-Game-II/">Jump Game II</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/18/Jump-Game/">Jump Game</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/18/Climbing-Stairs/">Climbing Stairs</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/18/Unique-Paths/">Unique Paths</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/18/Minimum-Path-Sum/">Minimum Path Sum</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//xinli.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Xinli's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-83440669-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>