<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><meta name="google-site-verification" content="GY3xi-El9ePp4mSskpCuCNS4x4elE7wbFPe2eKCtS8Y"><title>Day18 Design Pattern | Xinli's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Day18 Design Pattern</h1><a id="logo" href="/.">Xinli's Blog</a><p class="description">Coding World</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Day18 Design Pattern</h1><div class="post-meta">Oct 9, 2016<span> | </span><span class="category"><a href="/categories/Design-Pattern/">Design Pattern</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2016/10/09/Day18-Design-Pattern/" href="/2016/10/09/Day18-Design-Pattern/#disqus_thread" class="disqus-comment-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#攻略模板"><span class="toc-number">1.</span> <span class="toc-text">攻略模板</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#学习后总结"><span class="toc-number">2.</span> <span class="toc-text">学习后总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Singleton-Pattern"><span class="toc-number">2.1.</span> <span class="toc-text">Singleton Pattern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Prototype-Pattern"><span class="toc-number">2.2.</span> <span class="toc-text">Prototype Pattern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Memento-Patthern"><span class="toc-number">2.3.</span> <span class="toc-text">Memento Patthern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Visitor-Pattern"><span class="toc-number">2.4.</span> <span class="toc-text">Visitor Pattern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mediator-Pattern"><span class="toc-number">2.5.</span> <span class="toc-text">Mediator Pattern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Interpreter-Pattern"><span class="toc-number">2.6.</span> <span class="toc-text">Interpreter Pattern</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Chain-of-Responsibility-Pattern"><span class="toc-number">2.7.</span> <span class="toc-text">Chain of Responsibility Pattern</span></a></li></ol></li></ol></div></div><div class="post-content"><p>本篇是关于Design Pattern的介绍和用途.</p>
<h2 id="攻略模板"><a href="#攻略模板" class="headerlink" title="攻略模板"></a>攻略模板</h2><ul>
<li>总结归纳各种Design Pattern特性</li>
<li>总结Design Pattern用法和常见情景</li>
</ul>
<h2 id="学习后总结"><a href="#学习后总结" class="headerlink" title="学习后总结"></a>学习后总结</h2><h3 id="Singleton-Pattern"><a href="#Singleton-Pattern" class="headerlink" title="Singleton Pattern"></a>Singleton Pattern</h3><p>一般在全局只有一个资源且需要保证只有一个时调用,我们在observer和Hibernate的sessionFactory中使用。</p>
<p>What’s the Singleton: Create the object while making sure only one instanec of object gets created. Provide one global point to access it.      </p>
<p>When to use: if we only have one resource, such as thread pool,in-memory cache, hardware resources(printer), many instances of one object will make the multiple result. </p>
<p>饿汉模式：</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Class Singleton &#123;</div><div class="line"><span class="keyword">	private</span><span class="keyword"> static</span> Singleton<span class="built_in"> instance </span>=<span class="built_in"> new </span>Singleton();</div><div class="line"><span class="keyword">	private</span> Singleton()&#123;&#125;</div><div class="line"><span class="keyword">	public</span><span class="keyword"> static</span> Singleton getInstance() &#123;</div><div class="line">	<span class="built_in">	return </span>instance;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>懒汉模式：</p>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">Class Singleton &#123;</div><div class="line"><span class="keyword">	private</span><span class="keyword"> static</span> Singleton<span class="built_in"> instance </span>= null;</div><div class="line"><span class="keyword">	private</span> Singleton()&#123;&#125;</div><div class="line"><span class="keyword">	public</span><span class="keyword"> static</span> Singleton getInstance() &#123;</div><div class="line">		if(instance == null) &#123;</div><div class="line">		<span class="built_in">	instance </span>=<span class="built_in"> new </span>Singleton();</div><div class="line">		&#125;</div><div class="line">	<span class="built_in">	return </span>instance;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>线程安全模式的三种方法：</p>
<ol>
<li>对getInstance()方法直接加synchronized，对整个方法加锁，比较耗资源</li>
<li>使用饿汉方法 </li>
<li>双重检查加锁法（推荐）</li>
</ol>
<figure class="highlight smali"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">Class Singleton &#123;</div><div class="line"><span class="keyword">	private</span><span class="keyword"> static</span> volatile Singleton instance;</div><div class="line"><span class="keyword">	private</span> Singleton()&#123;&#125;</div><div class="line"><span class="keyword">	public</span><span class="keyword"> static</span> Singleton getInstance() &#123;</div><div class="line">		if(instance == null) &#123;</div><div class="line">			synchronized(Singleton.class) &#123;</div><div class="line">				if(instance == null) &#123;</div><div class="line">				<span class="built_in">	instance </span>=<span class="built_in"> new </span>Singleton();</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	<span class="built_in">	return </span>instance;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Prototype-Pattern"><a href="#Prototype-Pattern" class="headerlink" title="Prototype Pattern"></a>Prototype Pattern</h3><p>用clone的方式来创建<code>重复</code>对象，避免一直创建对象所带来的资源耗损。并且能够简化复杂对象的创建过程。<br>Prototype pattern refers to creating duplicate object while keeping performance in mind. This type of design pattern comes under creational pattern as this pattern provides one of the best ways to create an object.</p>
<p>例如发送广告信息给500万用户，如果一条一条发的话可能需要好几天时间，相当于获取一个个创建的model object中信息并输出。如果创建多线程同时发送，并且避免创建500W个object带来的资源耗损，可以使用一个通用的object，然后每次copy得到新的实例而不是使用构造函数得到新实例，再修改里面一部分variable并且不会影响原Object来实现。</p>
<p>这就要求： 首先Object class 继承 Cloneable接口.     </p>
<p>注意： 这里的clone只能是shallow copy, 所以只能拷贝primitive type的值和对象、数组的reference，我们需要对 对象、数组进行deep copy.</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">Class</span> <span class="title">Message</span> <span class="keyword">implements</span> <span class="title">Cloneable</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> String content;</div><div class="line">	<span class="keyword">private</span> ArrayList&lt;String&gt; ars; </div><div class="line">	<span class="keyword">public</span> Message()&#123;</div><div class="line">	&#125;</div><div class="line">	@Override</div><div class="line">	<span class="keyword">public</span> Message <span class="keyword">clone</span>() &#123;	</div><div class="line">		Message message = <span class="keyword">null</span>;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			message = (Message)super.<span class="keyword">clone</span>();</div><div class="line">			message.ars = (ArrayList&lt;String&gt;) this.ars.<span class="keyword">clone</span>();</div><div class="line">		&#125; <span class="keyword">catch</span>(CloneNotSupportedException e) &#123;</div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> message;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>使用的时候则可以只创建一个新的object，之后不断clone来创建新的object.</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">Message</span> <span class="keyword">message</span> = new <span class="keyword">Message</span>();</div><div class="line">int i = <span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>(i&lt;<span class="number">10</span>) &#123;</div><div class="line">	<span class="keyword">Message</span> cloneMes = <span class="keyword">message</span>.clone();</div><div class="line">	....</div><div class="line">	sendMessage(cloneMes);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>缺点：</p>
<ol>
<li>在实现clone时可能需要实现复杂的代码，多重嵌套引用的deep copy很麻烦；     </li>
<li>每一个类都需要配置clone方法，当对已有类进行改造是，需要修改源代码，违背“开闭原则”.      </li>
</ol>
<h3 id="Memento-Patthern"><a href="#Memento-Patthern" class="headerlink" title="Memento Patthern"></a>Memento Patthern</h3><p>备忘录模式：在不破坏封装的前提下，存储关键对象的重要状态，从而可以在将来把对象还原到存储的那个状态.<br>场景应用：比如保存游戏进度，当前很多软件的撤销(Undo)操作。       </p>
<p>优点:</p>
<ol>
<li>状态存储在外面，不和关键对象混在一起，可以帮助维护内聚.</li>
<li>提供了容易实现的恢复能力</li>
<li>保持了关键对象的数据封装</li>
</ol>
<p>核心模块：</p>
<ul>
<li>Memento(备忘录): 是一个model object，用来保存数据.     </li>
<li>Originator(原发器): 用来操作Memento，拥有save()和restore()方法用来存储当前状态和恢复之前状态.     </li>
<li>CareTaker(负责人): 用它来负责保存所有Memento，但是不能对Memento进行操作.</li>
</ul>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line">Class Memento &#123;</div><div class="line">	<span class="comment">//一个正常的model object</span></div><div class="line">	<span class="keyword">private</span> <span class="keyword">String</span> status;</div><div class="line">	<span class="keyword">public</span> Memento(<span class="keyword">String</span> status) &#123;</div><div class="line">		<span class="keyword">this</span>.status = status;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">String</span> getStatus() &#123;</div><div class="line">		<span class="keyword">return</span> status;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Class Originator &#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">String</span> status;</div><div class="line">	<span class="keyword">public</span> Originator(<span class="keyword">String</span> status) &#123;</div><div class="line">		<span class="keyword">this</span>.status = status;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">void</span> setStatus(<span class="keyword">String</span> status) &#123;</div><div class="line">		<span class="keyword">this</span>.status = status;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> Memento <span class="built_in">save</span>() &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">new</span> Memento(status);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">void</span> restore(Memento me) &#123;</div><div class="line">		<span class="keyword">this</span>.status = me.getStatus();</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Class CareTaker &#123;</div><div class="line">	<span class="keyword">private</span> List&lt;Memento&gt; mementoList = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">	<span class="keyword">public</span> Memento getMemento(<span class="built_in">int</span> step) &#123;</div><div class="line">		<span class="keyword">return</span> mementoList.<span class="built_in">get</span>(step);</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">void</span> setMemento(Memento memento) &#123;</div><div class="line">		<span class="keyword">this</span>.mementoList.<span class="built_in">add</span>(memento);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> class Main &#123;</div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</div><div class="line">		CareTaker careTaker = <span class="keyword">new</span> CareTaker();</div><div class="line">		Originator originator = <span class="keyword">new</span> Originator(<span class="string">"initialize"</span>);</div><div class="line">		careTaker.setMemento(originator.<span class="built_in">save</span>());</div><div class="line">		</div><div class="line">		originator.setStatus(<span class="string">"media"</span>);</div><div class="line">		careTaker.setMemento(originator.<span class="built_in">save</span>());</div><div class="line">		</div><div class="line">		originator.setStatus(<span class="string">"hard"</span>);</div><div class="line">		<span class="comment">//back to step 1</span></div><div class="line">		originator.restore(careTaker.getMemento(<span class="number">0</span>));</div><div class="line">		careTaker.setMemento(originator.<span class="built_in">save</span>());</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Visitor-Pattern"><a href="#Visitor-Pattern" class="headerlink" title="Visitor Pattern"></a>Visitor Pattern</h3><p>访问者模式，行为模式之一，可以不修改已有类的情况下，增加新的操作。</p>
<p>优点：</p>
<ol>
<li>能够在不修改Model Object的情况下，为对象添加新的功能</li>
<li>可以通过访问者来分离无关的行为，把相关的行为封装在一起，构成访问者，这样每一个访问者的功能都比较单一</li>
</ol>
<p>缺点：</p>
<ol>
<li>不适用于object的结构经常变换的情况</li>
<li>访问者模式通常需要对象结构开放内部数据给访问者，破坏了对象的封装性.</li>
</ol>
<p>举例：雇员管理系统</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Element</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">abstract</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Accept</span><span class="params">(Visitor visitor)</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//雇员</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> <span class="keyword">extends</span> <span class="title">Element</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> String name;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Employee</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getName</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> name;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//把自己暴露给访问者</span></div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Accept</span><span class="params">(Visitor visitor)</span> </span>&#123;</div><div class="line">		visitor.Visit(<span class="keyword">this</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Visitor</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Visit</span><span class="params">(Element element)</span></span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">//唯一要根据需要 变的部分</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">concreteVisitor</span> <span class="keyword">implements</span> <span class="title">Visitor</span></span>&#123;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Visit</span><span class="params">(Element element)</span></span>&#123;</div><div class="line">		Employee employee = ((Employee) element);</div><div class="line">		System.out.println(employee.getName()+<span class="string">"da"</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//雇员管理</span></div><div class="line"><span class="function"><span class="keyword">public</span> class <span class="title">Employees</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> HashMap&lt;String,Employee&gt; employees;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Employees</span><span class="params">()</span></span>&#123;</div><div class="line">		employees = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Accept</span><span class="params">(Visitor visitor)</span> </span>&#123;</div><div class="line">		<span class="keyword">for</span>(Employee e : employees.values()) &#123;</div><div class="line">			e.Accept(visitor);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Mediator-Pattern"><a href="#Mediator-Pattern" class="headerlink" title="Mediator Pattern"></a>Mediator Pattern</h3><p>替代原来各物体之间的交互，而使用中介者来与所有的物体打交道。<br>Mediator pattern is used to reduce communication complexity between multiple objects or classes. This pattern provides a mediator class which normally handles all the communications between different classes and suports easy maintance of the code by loose coupling.</p>
<p>适用场合：</p>
<ol>
<li>一组对象之间的通信复杂，导致相互依赖，结构混乱</li>
<li>一个对象引用很多其他对象并直接与这些对象通信，导致难以复用 </li>
</ol>
<p>优点：</p>
<ol>
<li>通过将对象彼此解耦，增加对象的复用性</li>
<li>将控制逻辑集中，简化系统维护</li>
<li>可以让对象之间所传递的消息变得简单且大幅减少</li>
<li>提供系统灵活性，易于扩展</li>
</ol>
<p>缺点：</p>
<ol>
<li>中介者承担较多责任，一旦出问题整个系统都会受到影响</li>
<li>如果设计不当，中介者对象本身变得过于复杂</li>
</ol>
<p>举例：<br>智能家电,中介者协调咖啡机，电视机，闹钟之间的通信</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Mediator</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">Register</span><span class="params">(String colleagueName, Colleague colleague)</span></span>;</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">ShowMessage</span><span class="params">(<span class="keyword">int</span> stateChange, String colleagueName)</span></span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> class ConcreteMediator implements Mediator &#123;</div><div class="line">	<span class="keyword">private</span> HashMap&lt;String, Colleague&gt; colleagueMap;</div><div class="line">	<span class="keyword">private</span> HashMap&lt;String, String&gt; nameMap;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ConcreteMediator</span><span class="params">()</span> </span>&#123;</div><div class="line">		colleagueMap = <span class="keyword">new</span> HashMap&lt;String, Colleague&gt;();</div><div class="line">		nameMap = <span class="keyword">new</span> HashMap&lt;String, Colleague&gt;();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Register</span><span class="params">(String colleagueName, Colleague colleague)</span> </span>&#123;</div><div class="line">		colleagueMap.put(colleagueName,colleague);</div><div class="line">		<span class="keyword">if</span>(colleague <span class="keyword">instanceof</span> Alarm)&#123;</div><div class="line">			nameMap.put(<span class="string">"Alarm"</span>, colleagueName);</div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(colleague <span class="keyword">instanceof</span> CoffeeMachine)&#123;</div><div class="line">			nameMap.put(<span class="string">"CoffeeMachine"</span>, colleagueName);</div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(colleague <span class="keyword">instanceof</span> TV)&#123;</div><div class="line">			nameMap.put(<span class="string">"TV"</span>, colleagueName);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ShowMessage</span><span class="params">(<span class="keyword">int</span> stateChange, String colleagueName)</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span>(colleagueMap.get(colleagueName) <span class="keyword">instanceof</span> Alarm) &#123;</div><div class="line">			<span class="keyword">if</span>(stateChange == <span class="number">0</span>) &#123;</div><div class="line">				((CoffeeMachine)(colleagueMap.get(nameMap.get(<span class="string">"CoffeeMachine"</span>)))).StartCoffee();	</div><div class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(stateChange == <span class="number">1</span>) &#123;</div><div class="line">				((TV)(colleagueMap.get(nameMap.get(<span class="string">"TV"</span>)))).StartTV();</div><div class="line">			&#125;</div><div class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(colleagueMap.get(colleagueName) <span class="keyword">instanceof</span> TV)&#123;</div><div class="line">			...</div><div class="line">		&#125;</div><div class="line">	&#125;	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Colleague</span></span>&#123;</div><div class="line">	<span class="keyword">private</span> Mediator mediator;</div><div class="line">	<span class="keyword">public</span> String name;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Colleague</span><span class="params">(Mediator mediator, String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.mediator = mediator;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> Mediator <span class="title">GetMediator</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.mediator;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="keyword">int</span> stateChange)</span></span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Alarm</span> <span class="keyword">extends</span> <span class="title">Colleague</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Alarm</span><span class="params">(Mediator mediator, String name)</span></span>&#123;</div><div class="line">		<span class="keyword">super</span>(mediator,name);</div><div class="line">		mediator.Register(name,<span class="keyword">this</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SendAlarm</span><span class="params">(<span class="keyword">int</span> stateChange)</span></span>&#123;</div><div class="line">		SendMessage(stateChange);</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SendMessage</span><span class="params">(<span class="keyword">int</span> stateChange)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.GetMediator().ShowMessage(stateChange,<span class="keyword">this</span>.name);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CoffeeMachine</span> <span class="keyword">extends</span> <span class="title">Colleague</span> </span>&#123;</div><div class="line">	...</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainTest</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">		Mediator mediator = <span class="keyword">new</span> ConcreteMediator();</div><div class="line">		Alarm a = <span class="keyword">new</span> Alarm(mediator,<span class="string">"a"</span>);</div><div class="line">		CoffeeMachine c = <span class="keyword">new</span> CoffeeMachine(mediator,<span class="string">"c"</span>);</div><div class="line">		a.SendAlarm(<span class="number">0</span>);</div><div class="line">		a.SendAlarm(<span class="number">1</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Interpreter-Pattern"><a href="#Interpreter-Pattern" class="headerlink" title="Interpreter Pattern"></a>Interpreter Pattern</h3><p>解释器模式就是定义语言的文法，并且建立一个解释器来解释该语言中的句子.<br>Interpreter Pattern provides a way to evaluate language grammar or expression. </p>
<p>应用场合：SQL parsing, symbol processing engine(一些数据分析工具，报表设计工具，科学计算工具).</p>
<p>举例：Calculator</p>
<figure class="highlight scala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">public <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractExpresstion</span> </span>&#123;</div><div class="line">	public <span class="keyword">abstract</span> <span class="type">Float</span> interpreter(<span class="type">HashMap</span>&lt;<span class="type">String</span>,<span class="type">Float</span>&gt; <span class="keyword">var</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">public <span class="class"><span class="keyword">class</span> <span class="title">VarExpression</span> <span class="keyword">extends</span> <span class="title">AbstractExpresstion</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="type">String</span> key;</div><div class="line">	public <span class="type">VarExpression</span>(<span class="type">String</span> key) &#123;</div><div class="line">		<span class="keyword">this</span>.key = key;</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	public <span class="type">Float</span> interpreter(<span class="type">HashMap</span>&lt;<span class="type">String</span>,<span class="type">Float</span>&gt; <span class="keyword">var</span>) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">var</span>.get(<span class="keyword">this</span>.key);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">public <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">SymbolExpression</span> <span class="keyword">extends</span> <span class="title">AbstractExpresstion</span> </span>&#123;</div><div class="line">	<span class="keyword">protected</span> <span class="type">AbstractExpresstion</span> left;</div><div class="line">	<span class="keyword">protected</span> <span class="type">AbstractExpresstion</span> right;</div><div class="line">	public <span class="type">SymbolExpression</span>(<span class="type">AbstractExpresstion</span> left,<span class="type">AbstractExpresstion</span> right) &#123;</div><div class="line">		<span class="keyword">this</span>.left = left;</div><div class="line">		<span class="keyword">this</span>.right = right;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//乘法</span></div><div class="line">public <span class="class"><span class="keyword">class</span> <span class="title">MultiExpression</span> <span class="keyword">extends</span> <span class="title">SymbolExpression</span> </span>&#123;</div><div class="line">	public <span class="type">MultiExpression</span>(<span class="type">AbstractExpresstion</span> left,<span class="type">AbstractExpresstion</span> right) &#123;</div><div class="line">		<span class="keyword">super</span>(left,right);</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	public <span class="type">Float</span> interpreter(<span class="type">HashMap</span>&lt;<span class="type">String</span>,<span class="type">Float</span>&gt; <span class="keyword">var</span>) &#123;</div><div class="line">		<span class="comment">//recrusive way to execute</span></div><div class="line">		<span class="keyword">return</span> <span class="keyword">super</span>.left.interpreter(<span class="keyword">var</span>) * <span class="keyword">super</span>.right.interpreter(<span class="keyword">var</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//加法</span></div><div class="line">public <span class="type">AddExpression</span> <span class="keyword">extends</span> <span class="type">SymbolExpression</span> &#123;</div><div class="line">	public <span class="type">MultiExpression</span>(<span class="type">AbstractExpresstion</span> left,<span class="type">AbstractExpresstion</span> right) &#123;</div><div class="line">		<span class="keyword">super</span>(left,right);</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	public <span class="type">Float</span> interpreter(<span class="type">HashMap</span>&lt;<span class="type">String</span>,<span class="type">Float</span>&gt; <span class="keyword">var</span>) &#123;</div><div class="line">		<span class="keyword">return</span> <span class="keyword">super</span>.left.interpreter(<span class="keyword">var</span>) + <span class="keyword">super</span>.right.interpreter(<span class="keyword">var</span>);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"></div><div class="line">public <span class="class"><span class="keyword">class</span> <span class="title">RPN</span> </span>&#123;</div><div class="line">	...</div><div class="line">	<span class="comment">//添加HashMap里的+-*/()等，以及逻辑运算</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="Chain-of-Responsibility-Pattern"><a href="#Chain-of-Responsibility-Pattern" class="headerlink" title="Chain of Responsibility Pattern"></a>Chain of Responsibility Pattern</h3><p>如果有多个对象都有机会处理请求，责任链可使请求的发送者和接收者解耦，请求沿着责任链传递，直到有一个处理了它为止.<br>It creates a chain of receiver objects for a request. This pattern decouples sender and receiver of a request based on type of request.<br>In this pattern, normally each receiver contains reference to another receiver. If one object cannot handle the request then it passes the same to the next receiver and so on.</p>
<p>优点：</p>
<ol>
<li>将请求的发送者和接收者解耦，使多个对象都有机会处理这个请求</li>
<li>可以简化对象，因为无需知道链的结构</li>
<li>可以动态地增加或删减处理请求的链结构</li>
</ol>
<p>缺点：</p>
<ol>
<li>请求从链的开头进行遍历，对性能有一定的损耗</li>
<li>并不保证请求一定被处理</li>
</ol>
<p>适用场合：</p>
<ol>
<li>有多个对象可以处理一个请求</li>
<li>不明确接收者的情况</li>
<li>有序、无序链，线型、树形、环形链</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> PurchaseRequest &#123;</div><div class="line">	</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Approver</span> </span>&#123;</div><div class="line">	Approver successor;</div><div class="line">	String name;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Approver</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.name = name;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">processRequest</span><span class="params">(PurchaseRequest request)</span></span>;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setSuccessor</span><span class="params">(Approver successor)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.successor = successor;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GroupApprover</span> <span class="keyword">extends</span> <span class="title">Approver</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GroupApprover</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">super</span>(Name + <span class="string">" GroupLeader"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processRequest</span><span class="params">(PurchaseRequest request)</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span>(request.getSum()&gt;<span class="number">5000</span>)&#123;</div><div class="line">			...</div><div class="line">		&#125;<span class="keyword">else</span> &#123;</div><div class="line">			successor.processRequest(request);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ViceApprover</span> <span class="keyword">extends</span> <span class="title">Approver</span> </span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ViceApprover</span><span class="params">(String name)</span> </span>&#123;</div><div class="line">		<span class="keyword">super</span>(Name + <span class="string">" GroupLeader"</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processRequest</span><span class="params">(PurchaseRequest request)</span> </span>&#123;</div><div class="line">		<span class="keyword">if</span>(request.getSum()&lt;<span class="number">5000</span>)&#123;</div><div class="line">			...</div><div class="line">		&#125;<span class="keyword">else</span> &#123;</div><div class="line">			successor.processRequest(request);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</div><div class="line">		Approver groupLeader = <span class="keyword">new</span> GroupApprover(<span class="string">"Tom"</span>);</div><div class="line">		Approver vicePresident = <span class="keyword">new</span> ViceApprover(<span class="string">"Jim"</span>);</div><div class="line">		groupLeader.setSuccessor(vicePresident);</div><div class="line">		...</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://xinli90.com/2016/10/09/Day18-Design-Pattern/" data-id="cj64h1cwe002rmgz6dm1ci95d" class="article-share-link">Share</a><div class="tags"><a href="/tags/Seeking-Job/">Seeking Job</a></div><div class="post-nav"><a href="/2016/10/11/Day19-DataBase/" class="pre">Day19 DataBase</a><a href="/2016/10/05/Day17-JavaScript-Introduction/" class="next">Day17 JavaScript Introduction</a></div><div id="disqus_thread"><script>var disqus_shortname = 'xinli';
var disqus_identifier = '2016/10/09/Day18-Design-Pattern/';
var disqus_title = 'Day18 Design Pattern';
var disqus_url = 'http://xinli90.com/2016/10/09/Day18-Design-Pattern/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//xinli.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://xinli90.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/tags/Seeking-Job/" style="font-size: 15px;">Seeking Job</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/J2EE/" style="font-size: 15px;">J2EE</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AWS/">AWS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Design-Pattern/">Design Pattern</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Geek/">Geek</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/J2EE/">J2EE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a><span class="category-list-count">116</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Multithreading/">Multithreading</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/class-design/">class design</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/08/08/2017-Learning02-HTTP-Security/">2017 Learning02 HTTP Security</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/07/Shopping-Offers/">Shopping Offers</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/21/Meeting-Rooms/">Meeting Rooms</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/21/N-Queens/">N Queens</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/20/Flatten-Nested-List-Iterator/">Flatten Nested List Iterator</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/05/One-Edit-Distance/">One Edit Distance</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/05/Read-N-Characters-Given-Read4/">Read N Characters Given Read4</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/03/Maximum-Size-Subarray-Sum-Equals-k/">Maximum Size Subarray Sum Equals k</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/02/Binary-Tree-Vertical-Order-Traversal/">Binary Tree Vertical Order Traversal</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/01/Sparse-Matrix-Multiplication/">Sparse Matrix Multiplication</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//xinli.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Xinli's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-83440669-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>