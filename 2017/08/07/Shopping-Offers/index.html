<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><meta name="google-site-verification" content="GY3xi-El9ePp4mSskpCuCNS4x4elE7wbFPe2eKCtS8Y"><title>Shopping Offers | Xinli's Blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Shopping Offers</h1><a id="logo" href="/.">Xinli's Blog</a><p class="description">Coding World</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Shopping Offers</h1><div class="post-meta">Aug 7, 2017<span> | </span><span class="category"><a href="/categories/Leetcode/">Leetcode</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2017/08/07/Shopping-Offers/" href="/2017/08/07/Shopping-Offers/#disqus_thread" class="disqus-comment-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Description"><span class="toc-number">1.</span> <span class="toc-text">Description</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Solution"><span class="toc-number">2.</span> <span class="toc-text">Solution</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Analysis"><span class="toc-number">2.1.</span> <span class="toc-text">Analysis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Solution-Recursive-solution"><span class="toc-number">2.1.1.</span> <span class="toc-text">Solution: Recursive solution.</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><p>This is the question about <a href="https://leetcode.com/problems/shopping-offers/description/" target="_blank" rel="external">Leetcode-Shopping Offers</a>.</p>
<h2 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h2><p>In LeetCode Store, there are some kinds of items to sell. Each item has a price.   </p>
<p>However, there are some special offers, and a special offer consists of one or more different kinds of items with a sale price.    </p>
<p>You are given the each itemâ€™s price, a set of special offers, and the number we need to buy for each item. The job is to output the lowest price you have to pay for exactly certain items as given, where you could make optimal use of the special offers.</p>
<p>Each special offer is represented in the form of an array, the last number represents the price you need to pay for this special offer, other numbers represents how many specific items you could get if you buy this offer.</p>
<p>You could use any of special offers as many times as you want.</p>
<p>Example 1:    </p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Input: [<span class="number">2</span>,<span class="number">5</span>], [[<span class="number">3</span>,<span class="number">0</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">10</span>]], [<span class="number">3</span>,<span class="number">2</span>]</div><div class="line">Output: <span class="number">14</span></div><div class="line">Explanation: </div><div class="line">There are two kinds of items, A <span class="literal">and</span> B. Their prices are $2 <span class="literal">and</span> $5 respectively. </div><div class="line"><span class="keyword">In</span> special offer <span class="number">1</span>, you can pay $5 <span class="keyword">for</span> <span class="number">3</span>A <span class="literal">and</span> <span class="number">0</span>B</div><div class="line"><span class="keyword">In</span> special offer <span class="number">2</span>, you can pay $10 <span class="keyword">for</span> <span class="number">1</span>A <span class="literal">and</span> <span class="number">2</span>B. </div><div class="line">You need <span class="keyword">to</span> buy <span class="number">3</span>A <span class="literal">and</span> <span class="number">2</span>B, so you may pay $10 <span class="keyword">for</span> <span class="number">1</span>A <span class="literal">and</span> <span class="number">2</span>B (special offer <span class="meta">#2), and $4 for 2A.</span></div></pre></td></tr></table></figure>
<p>Example 2:</p>
<figure class="highlight gams"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Input: [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">4</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">9</span>]], [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>]</div><div class="line">Output: <span class="number">11</span></div><div class="line">Explanation: </div><div class="line">The price of A is <span class="symbol">$</span><span class="number">2</span>, <span class="keyword">and</span> <span class="symbol">$</span><span class="number">3</span> <span class="keyword">for</span> B, <span class="symbol">$</span><span class="number">4</span> <span class="keyword">for</span> C. </div><div class="line">You may pay <span class="symbol">$</span><span class="number">4</span> <span class="keyword">for</span> <span class="number">1</span>A <span class="keyword">and</span> <span class="number">1</span>B, <span class="keyword">and</span> <span class="symbol">$</span><span class="number">9</span> <span class="keyword">for</span> <span class="number">2</span>A ,<span class="number">2</span>B <span class="keyword">and</span> <span class="number">1</span>C. </div><div class="line">You need to buy <span class="number">1</span>A ,<span class="number">2</span>B <span class="keyword">and</span> <span class="number">1</span>C, so you may pay <span class="symbol">$</span><span class="number">4</span> <span class="keyword">for</span> <span class="number">1</span>A <span class="keyword">and</span> <span class="number">1</span>B (special offer #<span class="number">1</span>), <span class="keyword">and</span> <span class="symbol">$</span><span class="number">3</span> <span class="keyword">for</span> <span class="number">1</span>B, <span class="symbol">$</span><span class="number">4</span> <span class="keyword">for</span> <span class="number">1</span>C. </div><div class="line">You cannot add more items, though only <span class="symbol">$</span><span class="number">9</span> <span class="keyword">for</span> <span class="number">2</span>A ,<span class="number">2</span>B <span class="keyword">and</span> <span class="number">1</span>C.</div></pre></td></tr></table></figure>
<p>Note:</p>
<ol>
<li>There are at most 6 kinds of items, 100 special offers.</li>
<li>For each item, you need to buy at most 6 of them.</li>
<li>You are not allowed to buy more items than you want, even if that would lower the overall price.</li>
</ol>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><h4 id="Solution-Recursive-solution"><a href="#Solution-Recursive-solution" class="headerlink" title="Solution: Recursive solution."></a>Solution: Recursive solution.</h4><figure class="highlight zephir"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> shoppingOffers(<span class="keyword">List</span>&lt;Integer&gt; price, <span class="keyword">List</span>&lt;<span class="keyword">List</span>&lt;Integer&gt;&gt; special, <span class="keyword">List</span>&lt;Integer&gt; needs) &#123;</div><div class="line">        <span class="keyword">return</span> helper(price,special,needs);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> helper(<span class="keyword">List</span>&lt;Integer&gt; price, <span class="keyword">List</span>&lt;<span class="keyword">List</span>&lt;Integer&gt;&gt; special, <span class="keyword">List</span>&lt;Integer&gt; needs) &#123;</div><div class="line">        <span class="keyword">int</span> result = sum(price,needs);</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;special.size(); i++) &#123;</div><div class="line">            <span class="keyword">List</span>&lt;Integer&gt; <span class="keyword">list</span> = special.get(i);</div><div class="line">            <span class="keyword">List</span>&lt;Integer&gt; <span class="keyword">clone</span> = <span class="keyword">new</span> ArrayList&lt;&gt;(needs);</div><div class="line">            <span class="keyword">int</span> j=<span class="number">0</span>;</div><div class="line">            <span class="keyword">for</span>(; j&lt;needs.size(); j++) &#123;</div><div class="line">                <span class="keyword">if</span>(<span class="keyword">list</span>.get(j)&gt;needs.get(j)) <span class="keyword">break</span>;</div><div class="line">                <span class="keyword">clone</span>.set(j,needs.get(j)-<span class="keyword">list</span>.get(j));</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span>(j==needs.size()) &#123;</div><div class="line">                result = Math.min(result, <span class="keyword">list</span>.get(j) + helper(price,special,<span class="keyword">clone</span>));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> result;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">public</span> <span class="keyword">int</span> sum(<span class="keyword">List</span>&lt;Integer&gt; price, <span class="keyword">List</span>&lt;Integer&gt; needs) &#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;price.size(); i++) &#123;</div><div class="line">            sum += price.get(i) * needs.get(i);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sum;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://xinli90.com/2017/08/07/Shopping-Offers/" data-id="cjl6u654500bbpqz6hh8p5ovu" class="article-share-link">Share</a><div class="tags"><a href="/tags/Leetcode/">Leetcode</a></div><div class="post-nav"><a href="/2017/08/08/Day21-HTTP-Security/" class="pre">Day21 HTTP Security</a><a href="/2016/11/21/Meeting-Rooms/" class="next">Meeting Rooms</a></div><div id="disqus_thread"><script>var disqus_shortname = 'xinli';
var disqus_identifier = '2017/08/07/Shopping-Offers/';
var disqus_title = 'Shopping Offers';
var disqus_url = 'http://xinli90.com/2017/08/07/Shopping-Offers/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//xinli.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://xinli90.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/Leetcode/" style="font-size: 15px;">Leetcode</a> <a href="/tags/Seeking-Job/" style="font-size: 15px;">Seeking Job</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Security/" style="font-size: 15px;">Security</a> <a href="/tags/work-summary/" style="font-size: 15px;">work summary</a> <a href="/tags/J2EE/" style="font-size: 15px;">J2EE</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/AWS/">AWS</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CI-CD/">CI/CD</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Data-Structure/">Data Structure</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Database/">Database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Design-Pattern/">Design Pattern</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Geek/">Geek</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/J2EE/">J2EE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Leetcode/">Leetcode</a><span class="category-list-count">117</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Multithreading/">Multithreading</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/REST-API/">REST API</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/System-Design/">System Design</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/class-design/">class design</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/23/Regular-Expression-Matching/">Regular Expression Matching</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/18/Day24-Automation-Test/">Day24 Automation Test</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/18/Day23-Design-TinyURL/">Day23-Design-TinyURL</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/18/Encode-and-Decode-TinyURL/">Encode and Decode TinyURL</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/10/Day22-REST-API/">Day22 REST API</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/08/Day21-HTTP-Security/">Day21 HTTP Security</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/07/Shopping-Offers/">Shopping Offers</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/21/Meeting-Rooms/">Meeting Rooms</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/21/N-Queens/">N Queens</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/20/Flatten-Nested-List-Iterator/">Flatten Nested List Iterator</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//xinli.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Â© <a href="/." rel="nofollow">Xinli's Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-83440669-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>